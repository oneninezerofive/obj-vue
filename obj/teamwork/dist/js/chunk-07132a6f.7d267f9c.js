(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07132a6f"],{"0e44":function(t,e,a){var i=a("88dd"),n=a("a013"),o=function(t,e){if(n(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=a("01f5")(Function.call,a("acb9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,a){return o(t,a),e?t.__proto__=a:i(t,a),t}}({},!1):void 0),check:o}},"22e9":function(t,e,a){var i=a("88dd"),n=a("94ac"),o=a("8b37")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==n(t))}},"300d":function(t,e,a){},"44de":function(t,e,a){var i=a("88dd"),n=a("0e44").set;t.exports=function(t,e,a){var o,r=e.constructor;return r!==a&&"function"==typeof r&&(o=r.prototype)!==a.prototype&&i(o)&&n&&n(t,o),t}},"7c56":function(t,e,a){var i=a("3754"),n=a("44de"),o=a("ddf7").f,r=a("a891").f,s=a("22e9"),l=a("f425"),c=i.RegExp,d=c,u=c.prototype,p=/a/g,f=/a/g,h=new c(p)!==p;if(a("dad2")&&(!h||a("b6f1")(function(){return f[a("8b37")("match")]=!1,c(p)!=p||c(f)==f||"/a/i"!=c(p,"i")}))){c=function(t,e){var a=this instanceof c,i=s(t),o=void 0===e;return!a&&i&&t.constructor===c&&o?t:n(h?new d(i&&!o?t.source:t,e):d((i=t instanceof c)?t.source:t,i&&o?l.call(t):e),a?this:u,c)};for(var g=function(t){t in c||o(c,t,{configurable:!0,get:function(){return d[t]},set:function(e){d[t]=e}})},b=r(d),v=0;b.length>v;)g(b[v++]);u.constructor=c,c.prototype=u,a("e5ef")(i,"RegExp",c)}a("c650")("RegExp")},"7f95":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gd-list"},[a("h2",{staticClass:"tt"},[t._v("商品列表")]),a("el-row",{staticClass:"row-bg action",attrs:{type:"flex",justify:"start"}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}},[a("label",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("商品id:")]),a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},slot:"suffix"})])],1)],1),a("el-table",{staticClass:"gd-tb",staticStyle:{width:"100%"},attrs:{data:t.nowData,"default-sort":{prop:"pid",order:"descending"},stripe:""}},[a("el-table-column",{attrs:{prop:"pid",label:"商品编号",sortable:"",width:"180"}}),a("el-table-column",{attrs:{prop:"tit",label:"商品名称",width:"180"}}),a("el-table-column",{attrs:{prop:"store",label:"库存",sortable:""}}),a("el-table-column",{attrs:{prop:"price_home",label:"现价",sortable:"",formatter:t.priceHome}}),a("el-table-column",{attrs:{prop:"price_ref",label:"原价",sortable:"",formatter:t.priceRef}}),a("el-table-column",{attrs:{prop:"sales",label:"销量"}}),a("el-table-column",{attrs:{label:"操作",width:"190"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticClass:"page_btn",attrs:{background:"",layout:"prev, pager, next","hide-on-single-page":"",total:t.gdList.length,"current-page":t.currentPage},on:{"size-change":t.updateData,"current-change":t.setNow}}),a("van-popup",{style:{width:"500px",background:"#fff"},attrs:{round:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("h2",{staticClass:"edit-tt"},[t._v("修改商品")]),a("van-divider"),a("div",{staticClass:"edit-form"},[a("van-field",{attrs:{clearable:"",label:"编号",placeholder:t.editData.pid},model:{value:t.editData.pid,callback:function(e){t.$set(t.editData,"pid",e)},expression:"editData.pid"}}),a("van-field",{attrs:{clearable:"",label:"商品名称"},model:{value:t.editData.tit,callback:function(e){t.$set(t.editData,"tit",e)},expression:"editData.tit"}}),a("van-field",{attrs:{clearable:"",label:"库存"},model:{value:t.editData.store,callback:function(e){t.$set(t.editData,"store",e)},expression:"editData.store"}}),a("van-field",{attrs:{clearable:"",label:"现价"},model:{value:t.editData.price_home,callback:function(e){t.$set(t.editData,"price_home",e)},expression:"editData.price_home"}}),a("van-field",{attrs:{clearable:"",label:"原价"},model:{value:t.editData.price_ref,callback:function(e){t.$set(t.editData,"price_ref",e)},expression:"editData.price_ref"}})],1),a("van-divider"),a("van-row",{staticClass:"editBtn",attrs:{type:"flex",justify:"end"}},[a("van-col",[a("van-button",{staticClass:"cancel",attrs:{type:"default",size:"small"},on:{click:t.editCancel}},[t._v("取消")])],1),a("van-col",[a("van-button",{attrs:{type:"primary",size:"small"},on:{click:t.editSave}},[t._v("保存")])],1)],1)],1)],1)},n=[],o=(a("f763"),a("7c56"),{data:function(){return{options:[{value:"价格升序",label:"价格升序"},{value:"价格降序",label:"价格降序"},{value:"销量降序",label:"销量降序"}],value:"",gdList:[],nowData:[],currentPage:1,show:!1,editData:{},editOldData:{},searchVal:null}},created:function(){var t=this;this.$axios("http://localhost:3000/goods/all").then(function(e){t.gdList=e.data;var a=JSON.stringify(t.gdList);t.nowData=JSON.parse(a).slice(0,10)})},methods:{priceHome:function(t,e){return(t.price_home-0).toFixed(2)},priceRef:function(t,e){return(t.price_ref-0).toFixed(2)},search:function(){var t=new RegExp("^"+this.searchVal);this.gdList.forEach(function(e,a){t.test(e.pid)&&console.log(e)})},handleEdit:function(t,e){var a=e.pid,i=e.tit,n=e.store,o=e.price_home,r=e.price_ref,s=e._id;this.editData={pid:a,tit:i,store:n,price_home:o,price_ref:r,_id:s},this.show=!0},editCancel:function(){this.show=!1},editSave:function(){var t=this;this.$axios.get("http://localhost:3000/goods/update",{params:this.editData}).then(function(t){console.log(t)}),this.$message({message:"更改成功",type:"success"});var e=null;this.nowData.forEach(function(a,i){a._id==t.editData._id&&(e=i)}),this.nowData[e].store=this.editData.store,this.nowData[e].pid=this.editData.pid,this.nowData[e].tit=this.editData.tit,this.nowData[e].price_home=this.editData.price_home,this.nowData[e].price_ref=this.editData.price_ref;var a=JSON.stringify(this.nowData);this.nowData=JSON.parse(a),this.show=!1},handleDelete:function(t,e){var a=this,i=e._id;this.$axios.get("http://localhost:3000/goods/delete",{params:{_id:i}}).then(function(t){console.log(t)}),this.gdList.forEach(function(t,i){a.gdList[i]._id==e._id&&a.gdList.splice(i,1)}),this.setNow(this.currentPage)},updateData:function(){console.log("当前页数据改变啦！")},setNow:function(t){this.currentPage=t;var e=JSON.stringify(this.gdList);this.nowData=JSON.parse(e).splice(10*(t-1),10*t-1)},onSubmit:function(){console.log("提交啦")}},watch:{searchVal:function(){if(""!==this.searchVal){var t=new RegExp("^"+this.searchVal),e=[];this.gdList.forEach(function(a,i){t.test(a.pid)&&e.push(a)}),console.log(e),this.nowData=e}else this.setNow(1)}}}),r=o,s=(a("acec"),a("6691")),l=Object(s["a"])(r,i,n,!1,null,null,null);e["default"]=l.exports},a891:function(t,e,a){var i=a("fb6d"),n=a("b4e0").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,n)}},acb9:function(t,e,a){var i=a("d217"),n=a("7dea"),o=a("3a68"),r=a("5325"),s=a("03b3"),l=a("568a"),c=Object.getOwnPropertyDescriptor;e.f=a("dad2")?c:function(t,e){if(t=o(t),e=r(e,!0),l)try{return c(t,e)}catch(a){}if(s(t,e))return n(!i.f.call(t,e),t[e])}},acec:function(t,e,a){"use strict";var i=a("300d"),n=a.n(i);n.a},f425:function(t,e,a){"use strict";var i=a("a013");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},f763:function(t,e,a){for(var i=a("dac5"),n=a("cfc7"),o=a("e5ef"),r=a("3754"),s=a("743d"),l=a("14fc"),c=a("8b37"),d=c("iterator"),u=c("toStringTag"),p=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=n(f),g=0;g<h.length;g++){var b,v=h[g],m=f[v],_=r[v],D=_&&_.prototype;if(D&&(D[d]||s(D,d,p),D[u]||s(D,u,v),l[v]=p,m))for(b in i)D[b]||o(D,b,i[b],!0)}}}]);
//# sourceMappingURL=chunk-07132a6f.7d267f9c.js.map